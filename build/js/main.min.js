document.addEventListener("DOMContentLoaded",(function(){const t=document.getElementById("section-selection");function e(t,e){return{title:e[t].title,abstract:e[t].abstract,byLine:e[t].byline,url:e[t].url,photo:e[t].multimedia[0].url,caption:e[t].multimedia[0].caption}}t.addEventListener("change",(function(){let n=[];$.ajax({method:"GET",url:`https://api.nytimes.com/svc/topstories/v2/${t.value}.json?api-key=5Fuweavf9NF1wpoTCAyGX4XZ7DMCtztz`}).done((function(t){n=function(t){const n=[];for(let i=0;i<12&&i<t.results.length;i++)n[i]=e(i,t.results);return n}(t),function(t){const e=document.getElementById("news");let n=1;e.innerHTML=" ",t.forEach(t=>{const i=document.createElement("span"),c=document.createElement("a"),a=document.createElement("img");a.innerHTML=function(t){return`src=${t.photo} alt=${t.caption}`}(t),function(t,e){const n=document.createElement("span"),i=document.createElement("span"),c=document.createElement("span");n.setAttribute("class","byline"),i.setAttribute("class","title"),c.setAttribute("class","abstract"),n.innerText=e.byLine,i.innerText=e.title,c.innerText=e.abstract,t.appendChild(i),t.appendChild(n),t.appendChild(c)}(i,t),function(t,e,n,i,c){e.setAttribute("href",c.url),e.setAttribute("class","article"),e.setAttribute("id",`article${t}`),e.appendChild(i),e.appendChild(n)}(n,c,i,a,t),e.appendChild(c),n++}),console.log(e)}(n)}))}))}));