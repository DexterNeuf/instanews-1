document.addEventListener("DOMContentLoaded",(function(){const t=document.getElementById("section-selection");document.getElementsByClassName("description");function e(t,e){return{title:e[t].title,abstract:e[t].abstract,byLine:e[t].byline,url:e[t].url,photo:e[t].multimedia[0].url,caption:e[t].multimedia[0].caption}}t.addEventListener("change",(function(){let n=[];$.ajax({method:"GET",url:`https://api.nytimes.com/svc/topstories/v2/${t.value}.json?api-key=5Fuweavf9NF1wpoTCAyGX4XZ7DMCtztz`}).done((function(t){!function(){const t=$(".logo"),e=$("header");t.addClass("shrunkLogo"),e.addClass("shrunkHeader")}(),n=function(t){const n=[];for(let i=0;i<12&&i<t.results.length;i++)n[i]=e(i,t.results);return n}(t),function(t){const e=document.getElementById("news");e.innerHTML=" ",t.forEach(t=>{const n=document.createElement("div"),i=document.createElement("a"),c=document.createElement("img");!function(t,e){t.setAttribute("src",e.photo),t.setAttribute("alt",e.caption)}(c,t),n.setAttribute("class","description"),function(t,e){const n=document.createElement("p"),i=document.createElement("h3"),c=document.createElement("p");n.setAttribute("class","byline"),i.setAttribute("class","title"),c.setAttribute("class","abstract hidden"),n.innerText=e.byLine,i.innerText=e.title,c.innerText=e.abstract,t.appendChild(i),t.appendChild(n),t.appendChild(c)}(n,t),function(t,e,n,i){t.setAttribute("href",i.url),t.setAttribute("class","article"),t.appendChild(n),t.appendChild(e)}(i,n,c,t),e.appendChild(i)})}(n)})).fail((function(){!function(t){const e=document.getElementById("news"),n=document.createElement("h2");n.innerText=t,e.append(n)}("Sorry something went wrong")}))}))}));